<!DOCTYPE html>
<html>

<head>

  <meta charset="UTF-8">

  <title>꿀꿀이 회원가입!</title>

    <style>
@import url(https://fonts.googleapis.com/css?family=Exo:100,200,400);
@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro:700,400,300);

body{
	margin: 0;
	padding: 0;
	background: #fff;

	color: #fff;
	font-family: Arial;
	font-size: 12px;
}

.body{
	position: absolute;
	top: -20px;
	left: -20px;
	right: -40px;
	bottom: -40px;
	width: auto;
	height: auto;
	background-image: url("pig.jpg");
	background-size: cover;
	-webkit-filter: blur(5px);
	z-index: 0;
}

.grad{
	position: absolute;
	top: -20px;
	left: -20px;
	right: -40px;
	bottom: -40px;
	width: auto;
	height: auto;
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,0,0,0)), color-stop(100%,rgba(0,0,0,0.65))); /* Chrome,Safari4+ */
	z-index: 1;
	opacity: 0.7;
}

.header{
	position: absolute;
	top: calc(55% - 35px);
	left: calc(45% - 255px);
	z-index: 2;
}

.header div{
	float: left;
	color: #fff;
	font-family: 'Exo', sans-serif;
	font-size: 35px;
	font-weight: 200;
}

.header div span{
	color: #FFF !important;
    text-size-adjust: 40px;
}

.login{
	position: absolute;
	top: calc(50% - 75px);
	left: calc(50% - 50px);
	height: 150px;
	width: 350px;
	padding: 10px;
	z-index: 2;
}

.login input[type=text]{
	width: 250px;
	height: 30px;
	background: transparent;
	border: 1px solid rgba(255,255,255,0.6);
	border-radius: 2px;
	color: #fff;
	font-family: 'Exo', sans-serif;
	font-size: 16px;
	font-weight: 400;
	margin-top: 10px;
	padding: 4px;
}

.login input[type=password]{
	width: 250px;
	height: 30px;
	background: transparent;
	border: 1px solid rgba(255,255,255,0.6);
	border-radius: 2px;
	color: #fff;
	font-family: 'Exo', sans-serif;
	font-size: 16px;
	font-weight: 400;
	padding: 4px;
	margin-top: 10px;
}

.login input[type=submit]{
	width: 260px;
	height: 35px;
	background: #fff;
	border: 1px solid #fff;
	cursor: pointer;
	border-radius: 2px;
	color: #a18d6c;
	font-family: 'Exo', sans-serif;
	font-size: 16px;
	font-weight: 400;
	padding: 6px;
	margin-top: 10px;
}

.login input[type=button]:hover{
	opacity: 0.8;
}

.login input[type=button]:active{
	opacity: 0.6;
}

.login input[type=text]:focus{
	outline: none;
	border: 1px solid rgba(255,255,255,0.9);
}

.login input[type=password]:focus{
	outline: none;
	border: 1px solid rgba(255,255,255,0.9);
}

.login input[type=button]:focus{
	outline: none;
}

::-webkit-input-placeholder{
   color: rgba(255,255,255,0.6);
}

::-moz-input-placeholder{
   color: rgba(255,255,255,0.6);
}
</style>

<script src="https://unpkg.com/axios/dist/axios.min.js" type="text/javascript">

</script>
<script>
  let url = "http://18.219.158.245:3030/auth/regi";
    let result = "";
	async function sex2(){
		console.log("ㅇㅇ");
        result = await axios.post(url, {
        id: document.getElementById('id').value,
				passwd: document.getElementById('passwd').value,
				name: document.getElementById('name').value,
        phone: document.getElementById('phone').value
    })
    .catch( e => {
        alert('회원가입 실패!');
        window.location.href = "signup.html";    
	})
	if(result.status === 200){
        alert('회원가입 성공!');
				window.location.href = "index.html";  
				localStorage.setItem("keyid",document.getElementById('id').value);
	}
	else if(result.status === 409){
		alert("이미 가입되어있으십니다.");
		window.location.href = "signup.html";
	}
	else if(result.status === 400){
		alert("회원가입 실패");
		window.location.href = "signup.html";
	}
	else{
		alert("회원가입 실패 (중복계정 또는 인터넷 문제일수도 있습니다.)");
		window.location.href = "signup.html";
	}
}	
</script>


    <script src="js/prefixfree.min.js"></script>

    <link rel="shortcut icon" href="apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
</head>

<body>

  <div class="body"></div>
		<div class="grad"></div>
		<div class="header">
			<div>꿀꿀이<span> 회원가입!</span></div>
		</div>
		<br>
		<div class="login" action="http://18.219.158.245:3030/auth/regi" id="regi" method="post">
				<input type="text" placeholder="아이디" name="id" id="id"><br>
				<input type="password" placeholder="비밀번호" name="passwd" id="passwd"><br>
				<input type="text" placeholder="이름" name="name" id="name"><br>
				<input type="text" placeholder="핸드폰번호" name="phone" id="phone"><br> 
				<input type="submit"  onclick="sex2()" value="signup">
		</div>
</body>

</html>